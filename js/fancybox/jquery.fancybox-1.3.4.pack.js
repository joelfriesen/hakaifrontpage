!function(c){var r,s,i,n,e,h,a,o,d,l,f,t,p,g,b=0,y={},u=[],w=0,x={},m=[],v=null,I=new Image,C=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,O=1,j=0,T="",A=!1,S=c.extend(c("<div/>")[0],{prop:0}),D=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,F=function(){s.hide(),I.onerror=I.onload=null,v&&v.abort(),r.empty()},E=function(){if(!1===y.onError(u,b,y))return s.hide(),void(A=!1);y.titleShow=!1,y.width="auto",y.height="auto",r.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),B()},N=function(){var n,t,e,i,a,o,d=u[b];if(F(),y=c.extend({},c.fn.fancybox.defaults,void 0===c(d).data("fancybox")?y:c(d).data("fancybox")),!1!==(o=y.onStart(u,b,y)))if("object"==typeof o&&(y=c.extend(y,o)),e=y.title||(d.nodeName?c(d).attr("title"):d.title)||"",d.nodeName&&!y.orig&&(y.orig=c(d).children("img:first").length?c(d).children("img:first"):c(d)),""===e&&y.orig&&y.titleFromAlt&&(e=y.orig.attr("alt")),n=y.href||(d.nodeName?c(d).attr("href"):d.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),y.type?(t=y.type,n||(n=y.content)):y.content?t="html":n&&(t=n.match(C)?"image":n.match(k)?"swf":c(d).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),t)switch("inline"==t&&(d=n.substr(n.indexOf("#")),t=0<c(d).length?"inline":"ajax"),y.type=t,y.href=n,y.title=e,y.autoDimensions&&("html"==y.type||"inline"==y.type||"ajax"==y.type?(y.width="auto",y.height="auto"):y.autoDimensions=!1),y.modal&&(y.overlayShow=!0,y.hideOnOverlayClick=!1,y.hideOnContentClick=!1,y.enableEscapeButton=!1,y.showCloseButton=!1),y.padding=parseInt(y.padding,10),y.margin=parseInt(y.margin,10),r.css("padding",y.padding+y.margin),c(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){c(this).replaceWith(h.children())}),t){case"html":r.html(y.content),B();break;case"inline":if(!0===c(d).parent().is("#fancybox-content"))return void(A=!1);f=c(d).parent(),c('<div class="fancybox-inline-tmp" />').hide().insertBefore(c(d)).bind("fancybox-cleanup",function(){c(this).replaceWith(h.children())}).bind("fancybox-cancel",function(){c(this).replaceWith(r.children())}),c(d).appendTo(r),B();break;case"image":A=!1,c.fancybox.showActivity(),(I=new Image).onerror=function(){E()},I.onload=function(){A=!0,I.onerror=I.onload=null,P()},I.src=n;break;case"swf":y.scrolling="no",i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+y.width+'" height="'+y.height+'"><param name="movie" value="'+n+'"></param>',a="",c.each(y.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),i+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+y.width+'" height="'+y.height+'"'+a+"></embed></object>",r.html(i),B();break;case"ajax":A=!1,c.fancybox.showActivity(),y.ajax.win=y.ajax.success,v=c.ajax(c.extend({},y.ajax,{url:n,data:y.ajax.data||{},error:function(t,e,i){0<t.status&&E()},success:function(t,e,i){if(200==("object"==typeof i?i:v).status){if("function"==typeof y.ajax.win){if(!1===(o=y.ajax.win(n,t,e,i)))return void s.hide();"string"!=typeof o&&"object"!=typeof o||(t=o)}r.html(t),B()}}}));break;case"iframe":L()}else E();else A=!1},B=function(){var t=y.width,e=y.height;t=-1<t.toString().indexOf("%")?parseInt((c(window).width()-2*y.margin)*parseFloat(t)/100,10)+"px":"auto"==t?"auto":t+"px",e=-1<e.toString().indexOf("%")?parseInt((c(window).height()-2*y.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",r.wrapInner('<div style="width:'+t+";height:"+e+";overflow: "+("auto"==y.scrolling?"auto":"yes"==y.scrolling?"scroll":"hidden")+';position:relative;"></div>'),y.width=r.width(),y.height=r.height(),L()},P=function(){y.width=I.width,y.height=I.height,c("<img />").attr({id:"fancybox-img",src:I.src,alt:y.title}).appendTo(r),L()},L=function(){var t,e;return s.hide(),n.is(":visible")&&!1===x.onCleanup(m,w,x)?(c.event.trigger("fancybox-cancel"),void(A=!1)):(A=!0,c(h.add(i)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),n.is(":visible")&&"outside"!==x.titlePosition&&n.css("height",n.height()),m=u,w=b,(x=y).overlayShow?(i.css({"background-color":x.overlayColor,opacity:x.overlayOpacity,cursor:x.hideOnOverlayClick?"pointer":"auto",height:c(document).height()}),i.is(":visible")||(D&&c("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),i.show())):i.hide(),g=K(),M(),n.is(":visible")?(c(a.add(d).add(l)).hide(),t=n.position(),p={top:t.top,left:t.left,width:n.width(),height:n.height()},e=p.width==g.width&&p.height==g.height,void h.fadeTo(x.changeFade,.3,function(){var t=function(){h.html(r.contents()).fadeTo(x.changeFade,1,z)};c.event.trigger("fancybox-change"),h.empty().removeAttr("filter").css({"border-width":x.padding,width:g.width-2*x.padding,height:y.autoDimensions?"auto":g.height-j-2*x.padding}),e?t():(S.prop=0,c(S).animate({prop:1},{duration:x.changeSpeed,easing:x.easingChange,step:R,complete:t}))})):(n.removeAttr("style"),h.css("border-width",x.padding),"elastic"==x.transitionIn?(p=q(),h.html(r.contents()),n.show(),x.opacity&&(g.opacity=0),S.prop=0,void c(S).animate({prop:1},{duration:x.speedIn,easing:x.easingIn,step:R,complete:z})):("inside"==x.titlePosition&&0<j&&o.show(),h.css({width:g.width-2*x.padding,height:y.autoDimensions?"auto":g.height-j-2*x.padding}).html(r.contents()),void n.css(g).fadeIn("none"==x.transitionIn?0:x.speedIn,z))))},M=function(){var t;if(T=x.title||"",j=0,o.empty().removeAttr("style").removeClass(),!1!==x.titleShow)if((T=c.isFunction(x.titleFormat)?x.titleFormat(T,m,w,x):!(!(t=T)||!t.length)&&("float"==x.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+x.titlePosition+'">'+t+"</div>"))&&""!==T){switch(o.addClass("fancybox-title-"+x.titlePosition).html(T).appendTo("body").show(),x.titlePosition){case"inside":o.css({width:g.width-2*x.padding,marginLeft:x.padding,marginRight:x.padding}),j=o.outerHeight(!0),o.appendTo(e),g.height+=j;break;case"over":o.css({marginLeft:x.padding,width:g.width-2*x.padding,bottom:x.padding}).appendTo(e);break;case"float":o.css("left",-1*parseInt((o.width()-g.width-40)/2,10)).appendTo(n);break;default:o.css({width:g.width-2*x.padding,paddingLeft:x.padding,paddingRight:x.padding}).appendTo(n)}o.hide()}else o.hide();else o.hide()},z=function(){c.support.opacity||(h.get(0).style.removeAttribute("filter"),n.get(0).style.removeAttribute("filter")),y.autoDimensions&&h.css("height","auto"),n.css("height","auto"),T&&T.length&&o.show(),x.showCloseButton&&a.show(),function(){if((x.enableEscapeButton||x.enableKeyboardNav)&&c(document).bind("keydown.fb",function(t){27==t.keyCode&&x.enableEscapeButton?(t.preventDefault(),c.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!x.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),c.fancybox[37==t.keyCode?"prev":"next"]())}),!x.showNavArrows)return d.hide(),l.hide();(x.cyclic&&1<m.length||0!==w)&&d.show(),(x.cyclic&&1<m.length||w!=m.length-1)&&l.show()}(),x.hideOnContentClick&&h.bind("click",c.fancybox.close),x.hideOnOverlayClick&&i.bind("click",c.fancybox.close),c(window).bind("resize.fb",c.fancybox.resize),x.centerOnScroll&&c(window).bind("scroll.fb",c.fancybox.center),"iframe"==x.type&&c('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+y.scrolling+'" src="'+x.href+'"></iframe>').appendTo(h),n.show(),A=!1,c.fancybox.center(),x.onComplete(m,w,x),H()},H=function(){var t;m.length-1>w&&void 0!==(t=m[w+1].href)&&t.match(C)&&((new Image).src=t),0<w&&void 0!==(t=m[w-1].href)&&t.match(C)&&((new Image).src=t)},R=function(t){var e={width:parseInt(p.width+(g.width-p.width)*t,10),height:parseInt(p.height+(g.height-p.height)*t,10),top:parseInt(p.top+(g.top-p.top)*t,10),left:parseInt(p.left+(g.left-p.left)*t,10)};void 0!==g.opacity&&(e.opacity=t<.5?.5:t),n.css(e),h.css({width:e.width-2*x.padding,height:e.height-j*t-2*x.padding})},W=function(){return[c(window).width()-2*x.margin,c(window).height()-2*x.margin,c(document).scrollLeft()+x.margin,c(document).scrollTop()+x.margin]},K=function(){var t,e=W(),i={},n=x.autoScale,a=2*x.padding;return-1<x.width.toString().indexOf("%")?i.width=parseInt(e[0]*parseFloat(x.width)/100,10):i.width=x.width+a,-1<x.height.toString().indexOf("%")?i.height=parseInt(e[1]*parseFloat(x.height)/100,10):i.height=x.height+a,n&&(i.width>e[0]||i.height>e[1])&&("image"==y.type||"swf"==y.type?(t=x.width/x.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-a)/t+a,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-a)*t+a,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},q=function(){var t,e,i,n,a=!!y.orig&&c(y.orig),o={};return a&&a.length?((n=(i=a).offset()).top+=parseInt(i.css("paddingTop"),10)||0,n.left+=parseInt(i.css("paddingLeft"),10)||0,n.top+=parseInt(i.css("border-top-width"),10)||0,n.left+=parseInt(i.css("border-left-width"),10)||0,n.width=i.width(),n.height=i.height(),o={width:(t=n).width+2*x.padding,height:t.height+2*x.padding,top:t.top-x.padding-20,left:t.left-x.padding-20}):(e=W(),o={width:2*x.padding,height:2*x.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),o},Q=function(){s.is(":visible")?(c("div",s).css("top",-40*O+"px"),O=(O+1)%12):clearInterval(t)};c.fn.fancybox=function(t){return c(this).length&&c(this).data("fancybox",c.extend({},t,c.metadata?c(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!A){A=!0,c(this).blur(),u=[],b=0;var e=c(this).attr("rel")||"";e&&""!=e&&"nofollow"!==e?(u=c("a[rel="+e+"], area[rel="+e+"], img[rel="+e+"]"),b=u.index(this)):u.push(this),N()}}),this},c.fancybox=function(t){var e;if(!A){if(A=!0,e=void 0!==arguments[1]?arguments[1]:{},u=[],b=parseInt(e.index,10)||0,c.isArray(t)){for(var i=0,n=t.length;i<n;i++)"object"==typeof t[i]?c(t[i]).data("fancybox",c.extend({},e,t[i])):t[i]=c({}).data("fancybox",c.extend({content:t[i]},e));u=jQuery.merge(u,t)}else"object"==typeof t?c(t).data("fancybox",c.extend({},e,t)):t=c({}).data("fancybox",c.extend({content:t},e)),u.push(t);(b>u.length||b<0)&&(b=0),N()}},c.fancybox.showActivity=function(){clearInterval(t),s.show(),t=setInterval(Q,66)},c.fancybox.hideActivity=function(){s.hide()},c.fancybox.next=function(){return c.fancybox.pos(w+1)},c.fancybox.prev=function(){return c.fancybox.pos(w-1)},c.fancybox.pos=function(t){A||(t=parseInt(t),u=m,-1<t&&t<m.length?(b=t,N()):x.cyclic&&1<m.length&&(b=t>=m.length?0:m.length-1,N()))},c.fancybox.cancel=function(){A||(A=!0,c.event.trigger("fancybox-cancel"),F(),y.onCancel(u,b,y),A=!1)},c.fancybox.close=function(){if(!A&&!n.is(":hidden"))if(A=!0,x&&!1===x.onCleanup(m,w,x))A=!1;else if(F(),c(a.add(d).add(l)).hide(),c(h.add(i)).unbind(),c(window).unbind("resize.fb scroll.fb"),c(document).unbind("keydown.fb"),h.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==x.titlePosition&&o.empty(),n.stop(),"elastic"==x.transitionOut){p=q();var t=n.position();g={top:t.top,left:t.left,width:n.width(),height:n.height()},x.opacity&&(g.opacity=1),o.empty().hide(),S.prop=1,c(S).animate({prop:0},{duration:x.speedOut,easing:x.easingOut,step:R,complete:e})}else n.fadeOut("none"==x.transitionOut?0:x.speedOut,e);function e(){i.fadeOut("fast"),o.empty().hide(),n.hide(),c.event.trigger("fancybox-cleanup"),f&&f.find(".fancybox-inline-tmp").replaceWith(h.children().children()),h.empty(),x.onClosed(m,w,x),m=y=[],w=b=0,x=y={},A=!1}},c.fancybox.resize=function(){i.is(":visible")&&i.css("height",c(document).height()),c.fancybox.center(!0)},c.fancybox.center=function(){var t,e;A||(e=!0===arguments[0]?1:0,t=W(),!e&&(n.width()>t[0]||n.height()>t[1])||n.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-h.height()-40)-x.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-h.width()-40)-x.padding))},"number"==typeof arguments[0]?arguments[0]:200))},c.fancybox.init=function(){c("#fancybox-wrap").length||(c("body").append(r=c('<div id="fancybox-tmp"></div>'),s=c('<div id="fancybox-loading"><div></div></div>'),i=c('<div id="fancybox-overlay"></div>'),n=c('<div id="fancybox-wrap"></div>')),(e=c('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(n)).append(h=c('<div id="fancybox-content"></div>'),a=c('<a id="fancybox-close"></a>'),o=c('<div id="fancybox-title"></div>'),d=c('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),l=c('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),a.click(c.fancybox.close),s.click(c.fancybox.cancel),d.click(function(t){t.preventDefault(),c.fancybox.prev()}),l.click(function(t){t.preventDefault(),c.fancybox.next()}),c.fn.mousewheel&&n.bind("mousewheel.fb",function(t,e){A?t.preventDefault():0!=c(t.target).get(0).clientHeight&&c(t.target).get(0).scrollHeight!==c(t.target).get(0).clientHeight||(t.preventDefault(),c.fancybox[0<e?"prev":"next"]())}),c.support.opacity||n.addClass("fancybox-ie"),D&&(s.addClass("fancybox-ie6"),n.addClass("fancybox-ie6"),c('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(e)))},c.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},c(document).ready(function(){c.fancybox.init()})}(jQuery);